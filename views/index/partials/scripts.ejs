
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://code.iconify.design/2/2.1.0/iconify.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.2/markdown-it.min.js" integrity="sha512-ohlWmsCxOu0bph1om5eDL0jm/83eH09fvqLDhiEdiqfDeJbEvz4FSbeY0gLJSVJwQAp0laRhTXbUQG+ZUuifUQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="/javascript/notify.js"></script>
<script src="/index/javascript/script.js"></script>

<script>
    $('body').on('click', '.unregister-btn', function(e) {
        const consultationId = $(this).attr('data-consulation-id');
        $.ajax({
            url: '/api/consultations/changeRegistration',
            method: 'POST',
            data: {
                consultation: consultationId
            },
            success: function(data) {
                if (data.status == 'ok') {
                    $('.consultation-item[data-consulation-id="' + consultationId + '"]').remove();
                    refreshCalendarContent();
                }
            }
        });
    });
</script>

<% if (success) { %>
    <script>
        Notify('<%= success %>', 'success');
    </script>
<% } %>

<% if (error) { %>
    <script>
        Notify('<%= error %>', 'error');
    </script>
<% } %>